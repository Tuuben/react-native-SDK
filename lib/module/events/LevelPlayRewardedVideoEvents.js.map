{"version":3,"sources":["LevelPlayRewardedVideoEvents.ts"],"names":["NativeEventEmitter","NativeModules","errorAdInfoCodec","placementAdInfoCodec","ironSourceErrorCodec","ironSourceAdInfoCodec","decode","IronSourceMediation","LP_RV_ON_AD_AVAILABLE","LP_RV_ON_AD_UNAVAILABLE","LP_RV_ON_AD_OPENED","LP_RV_ON_AD_CLOSED","LP_RV_ON_AD_REWARDED","LP_RV_ON_AD_SHOW_FAILED","LP_RV_ON_AD_CLICKED","LP_MANUAL_RV_ON_AD_READY","LP_MANUAL_RV_ON_AD_LOAD_FAILED","getConstants","eventEmitter","onAdAvailable","setListener","listener","removeAllListeners","addListener","adInfoObj","removeListener","onAdUnavailable","onAdOpened","onAdClosed","onAdRewarded","obj","placement","adInfo","onAdShowFailed","error","onAdClicked","onAdReady","onAdLoadFailed","errorObj","LevelPlayRewardedVideoEvents"],"mappings":"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","sourcesContent":["import { NativeEventEmitter, NativeModules } from 'react-native'\nimport { errorAdInfoCodec, placementAdInfoCodec } from '../models/nestedCodecs'\nimport {\n  ironSourceErrorCodec,\n  IronSourceError,\n  IronSourceRVPlacement,\n  IronSourceAdInfo,\n  ironSourceAdInfoCodec,\n} from '../models'\nimport { decode } from '../models/utils'\n\n// The Main Module\nconst { IronSourceMediation } = NativeModules\n// Event Name Constants defined on each platform\nconst {\n  LP_RV_ON_AD_AVAILABLE,\n  LP_RV_ON_AD_UNAVAILABLE,\n  LP_RV_ON_AD_OPENED,\n  LP_RV_ON_AD_CLOSED,\n  LP_RV_ON_AD_REWARDED,\n  LP_RV_ON_AD_SHOW_FAILED,\n  LP_RV_ON_AD_CLICKED,\n  // Manual Load RV Events\n  LP_MANUAL_RV_ON_AD_READY,\n  LP_MANUAL_RV_ON_AD_LOAD_FAILED,\n} = IronSourceMediation.getConstants()\n\n// Create an EventEmitter to subscribe to RewardedVideoListener callbacks\nconst eventEmitter = new NativeEventEmitter(IronSourceMediation)\n\n/**\n * LevelPlay RV Listener Callback Events Handler APIs\n */\n\n/**\n * Android: onAdAvailable\n *     iOS: hasAvailableAdWithAdInfo\n */\nconst onAdAvailable = {\n  setListener: (listener: (adInfo: IronSourceAdInfo) => void) => {\n    eventEmitter.removeAllListeners(LP_RV_ON_AD_AVAILABLE)\n    eventEmitter.addListener(LP_RV_ON_AD_AVAILABLE, (adInfoObj: unknown) => {\n      listener(decode(ironSourceAdInfoCodec, adInfoObj))\n    })\n  },\n  removeListener: () => eventEmitter.removeAllListeners(LP_RV_ON_AD_AVAILABLE),\n}\n\n/**\n * Android: onAdUnavailable\n *     iOS: hasNoAvailableAd\n */\nconst onAdUnavailable = {\n  setListener: (listener: () => void) => {\n    eventEmitter.removeAllListeners(LP_RV_ON_AD_UNAVAILABLE)\n    eventEmitter.addListener(LP_RV_ON_AD_UNAVAILABLE, () => listener())\n  },\n  removeListener: () =>\n    eventEmitter.removeAllListeners(LP_RV_ON_AD_UNAVAILABLE),\n}\n\n/**\n * Android: onAdOpened\n *     iOS: didOpenWithAdInfo\n */\nconst onAdOpened = {\n  setListener: (listener: (adInfo: IronSourceAdInfo) => void) => {\n    eventEmitter.removeAllListeners(LP_RV_ON_AD_OPENED)\n    eventEmitter.addListener(LP_RV_ON_AD_OPENED, (adInfoObj: unknown) => {\n      listener(decode(ironSourceAdInfoCodec, adInfoObj))\n    })\n  },\n  removeListener: () => eventEmitter.removeAllListeners(LP_RV_ON_AD_OPENED),\n}\n\n/**\n * Android: onAdClosed\n *     iOS: didCloseWithAdInfo\n */\nconst onAdClosed = {\n  setListener: (listener: (adInfo: IronSourceAdInfo) => void) => {\n    eventEmitter.removeAllListeners(LP_RV_ON_AD_CLOSED)\n    eventEmitter.addListener(LP_RV_ON_AD_CLOSED, (adInfoObj: unknown) => {\n      listener(decode(ironSourceAdInfoCodec, adInfoObj))\n    })\n  },\n  removeListener: () => eventEmitter.removeAllListeners(LP_RV_ON_AD_CLOSED),\n}\n\n/**\n * Android: onAdRewarded\n *     iOS: didReceiveRewardForPlacement\n */\nconst onAdRewarded = {\n  setListener: (\n    listener: (\n      placement: IronSourceRVPlacement,\n      adInfo: IronSourceAdInfo\n    ) => void\n  ) => {\n    eventEmitter.removeAllListeners(LP_RV_ON_AD_REWARDED)\n    eventEmitter.addListener(LP_RV_ON_AD_REWARDED, (obj: unknown) => {\n      const { placement, adInfo } = decode(placementAdInfoCodec, obj)\n      listener(placement, adInfo)\n    })\n  },\n  removeListener: () => eventEmitter.removeAllListeners(LP_RV_ON_AD_REWARDED),\n}\n\n/**\n * Android: onAdShowFailed\n *     iOS: didFailToShowWithError\n */\nconst onAdShowFailed = {\n  setListener: (\n    listener: (error: IronSourceError, adInfo: IronSourceAdInfo) => void\n  ) => {\n    eventEmitter.removeAllListeners(LP_RV_ON_AD_SHOW_FAILED)\n    eventEmitter.addListener(LP_RV_ON_AD_SHOW_FAILED, (obj: unknown) => {\n      const { error, adInfo } = decode(errorAdInfoCodec, obj)\n      listener(error, adInfo)\n    })\n  },\n  removeListener: () =>\n    eventEmitter.removeAllListeners(LP_RV_ON_AD_SHOW_FAILED),\n}\n\n/**\n * Android: onAdClicked\n *     iOS: didClick\n */\nconst onAdClicked = {\n  setListener: (\n    listener: (\n      placement: IronSourceRVPlacement,\n      adInfo: IronSourceAdInfo\n    ) => void\n  ) => {\n    eventEmitter.removeAllListeners(LP_RV_ON_AD_CLICKED)\n    eventEmitter.addListener(LP_RV_ON_AD_CLICKED, (obj: unknown) => {\n      const { placement, adInfo } = decode(placementAdInfoCodec, obj)\n      listener(placement, adInfo)\n    })\n  },\n  removeListener: () => eventEmitter.removeAllListeners(LP_RV_ON_AD_CLICKED),\n}\n\n/**\n * Manual Load RV\n * Android: onAdReady\n *     iOS: didLoadWithAdInfo\n */\nconst onAdReady = {\n  setListener: (listener: (adInfo: IronSourceAdInfo) => void) => {\n    eventEmitter.removeAllListeners(LP_MANUAL_RV_ON_AD_READY)\n    eventEmitter.addListener(LP_MANUAL_RV_ON_AD_READY, (adInfoObj: unknown) => {\n      listener(decode(ironSourceAdInfoCodec, adInfoObj))\n    })\n  },\n  removeListener: () => {\n    eventEmitter.removeAllListeners(LP_MANUAL_RV_ON_AD_READY)\n  },\n}\n\n/**\n * Manual Load RV\n * Android: onAdLoadFailed\n *     iOS: didFailToLoadWithError\n */\nconst onAdLoadFailed = {\n  setListener: (listener: (error: IronSourceError) => void) => {\n    eventEmitter.removeAllListeners(LP_MANUAL_RV_ON_AD_LOAD_FAILED)\n    eventEmitter.addListener(\n      LP_MANUAL_RV_ON_AD_LOAD_FAILED,\n      (errorObj: unknown) => listener(decode(ironSourceErrorCodec, errorObj))\n    )\n  },\n  removeListener: () =>\n    eventEmitter.removeAllListeners(LP_MANUAL_RV_ON_AD_LOAD_FAILED),\n}\n\nconst removeAllListeners = () => {\n  onAdAvailable.removeListener()\n  onAdUnavailable.removeListener()\n  onAdOpened.removeListener()\n  onAdClosed.removeListener()\n  onAdRewarded.removeListener()\n  onAdShowFailed.removeListener()\n  onAdClicked.removeListener()\n  onAdReady.removeListener()\n  onAdLoadFailed.removeListener()\n}\n\nexport const LevelPlayRewardedVideoEvents = {\n  onAdAvailable,\n  onAdUnavailable,\n  onAdOpened,\n  onAdClosed,\n  onAdRewarded,\n  onAdShowFailed,\n  onAdClicked,\n  onAdReady,\n  onAdLoadFailed,\n  removeAllListeners,\n}\n"]}