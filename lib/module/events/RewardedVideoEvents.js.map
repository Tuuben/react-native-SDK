{"version":3,"sources":["RewardedVideoEvents.ts"],"names":["NativeEventEmitter","NativeModules","ironSourceErrorCodec","ironSourceRVPlacementCodec","availabilityCodec","decode","IronSourceMediation","ON_RV_AD_OPENED","ON_RV_AD_CLOSED","ON_RV_AVAILABILITY_CHANGED","ON_RV_AD_REWARDED","ON_RV_AD_SHOW_FAILED","ON_RV_AD_CLICKED","ON_RV_AD_STARTED","ON_RV_AD_ENDED","ON_RV_AD_READY","ON_RV_AD_LOAD_FAILED","getConstants","eventEmitter","onRewardedVideoAdOpened","setListener","listener","removeAllListeners","addListener","removeListener","onRewardedVideoAdClosed","onRewardedVideoAvailabilityChanged","availabilityObj","isAvailable","onRewardedVideoAdStarted","onRewardedVideoAdEnded","onRewardedVideoAdRewarded","placementObj","onRewardedVideoAdShowFailed","errorObj","onRewardedVideoAdClicked","onRewardedVideoAdReady","onRewardedVideoAdLoadFailed","RewardedVideoEvents"],"mappings":"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","sourcesContent":["import { NativeEventEmitter, NativeModules } from 'react-native'\nimport {\n  ironSourceErrorCodec,\n  ironSourceRVPlacementCodec,\n  IronSourceError,\n  IronSourceRVPlacement,\n} from '../models'\nimport { availabilityCodec } from '../models/Availability'\nimport { decode } from '../models/utils'\n\n// The Main Module\nconst { IronSourceMediation } = NativeModules\n// Event Name Constants defined on each platform\nconst {\n  ON_RV_AD_OPENED,\n  ON_RV_AD_CLOSED,\n  ON_RV_AVAILABILITY_CHANGED,\n  ON_RV_AD_REWARDED,\n  ON_RV_AD_SHOW_FAILED,\n  ON_RV_AD_CLICKED,\n  ON_RV_AD_STARTED,\n  ON_RV_AD_ENDED,\n  // Manual Load RV Events\n  ON_RV_AD_READY,\n  ON_RV_AD_LOAD_FAILED,\n} = IronSourceMediation.getConstants()\n\n// Create an EventEmitter to subscribe to RewardedVideoListener callbacks\nconst eventEmitter = new NativeEventEmitter(IronSourceMediation)\n\n/**\n * RV Listener Callback Events Handler APIs\n */\n\n/**\n * Android: onRewardedVideoAdOpened\n *     iOS: rewardedVideoDidOpen\n */\nconst onRewardedVideoAdOpened = {\n  setListener: (listener: () => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_OPENED)\n    eventEmitter.addListener(ON_RV_AD_OPENED, () => listener())\n  },\n  removeListener: () => eventEmitter.removeAllListeners(ON_RV_AD_OPENED),\n}\n\n/**\n * Android: onRewardedVideoAdClosed\n *     iOS: rewardedVideoDidClose\n */\nconst onRewardedVideoAdClosed = {\n  setListener: (listener: () => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_CLOSED)\n    eventEmitter.addListener(ON_RV_AD_CLOSED, () => listener())\n  },\n  removeListener: () => eventEmitter.removeAllListeners(ON_RV_AD_CLOSED),\n}\n\n/**\n * Android: onRewardedVideoAvailabilityChanged\n *     iOS: rewardedVideoHasChangedAvailability\n */\nconst onRewardedVideoAvailabilityChanged = {\n  setListener: (listener: (isAvailable: boolean) => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AVAILABILITY_CHANGED)\n    eventEmitter.addListener(\n      ON_RV_AVAILABILITY_CHANGED,\n      (availabilityObj: unknown) => {\n        const { isAvailable } = decode(availabilityCodec, availabilityObj)\n        listener(isAvailable)\n      }\n    )\n  },\n  removeListener: () =>\n    eventEmitter.removeAllListeners(ON_RV_AVAILABILITY_CHANGED),\n}\n\n/**\n * Android: onRewardedVideoAdStarted\n *     iOS: rewardedVideoDidStart\n */\nconst onRewardedVideoAdStarted = {\n  setListener: (listener: () => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_STARTED)\n    eventEmitter.addListener(ON_RV_AD_STARTED, () => listener())\n  },\n  removeListener: () => eventEmitter.removeAllListeners(ON_RV_AD_STARTED),\n}\n\n/**\n * Android: onRewardedVideoAdEnded\n *     iOS: rewardedVideoDidEnd\n */\nconst onRewardedVideoAdEnded = {\n  setListener: (listener: () => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_ENDED)\n    eventEmitter.addListener(ON_RV_AD_ENDED, () => listener())\n  },\n  removeListener: () => eventEmitter.removeAllListeners(ON_RV_AD_ENDED),\n}\n\n/**\n * Android: onRewardedVideoAdRewarded\n *     iOS: didReceiveRewardForPlacement\n */\nconst onRewardedVideoAdRewarded = {\n  setListener: (listener: (placement: IronSourceRVPlacement) => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_REWARDED)\n    eventEmitter.addListener(ON_RV_AD_REWARDED, (placementObj: unknown) =>\n      listener(decode(ironSourceRVPlacementCodec, placementObj))\n    )\n  },\n  removeListener: () => eventEmitter.removeAllListeners(ON_RV_AD_REWARDED),\n}\n\n/**\n * Android: onRewardedVideoAdShowFailed\n *     iOS: rewardedVideoDidFailToShowWithError\n */\nconst onRewardedVideoAdShowFailed = {\n  setListener: (listener: (error: IronSourceError) => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_SHOW_FAILED)\n    eventEmitter.addListener(ON_RV_AD_SHOW_FAILED, (errorObj: unknown) =>\n      listener(decode(ironSourceErrorCodec, errorObj))\n    )\n  },\n  removeListener: () => eventEmitter.removeAllListeners(ON_RV_AD_SHOW_FAILED),\n}\n\n/**\n * Android: onRewardedVideoAdClicked\n *     iOS: didClickRewardedVideo\n */\nconst onRewardedVideoAdClicked = {\n  setListener: (listener: (placement: IronSourceRVPlacement) => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_CLICKED)\n    eventEmitter.addListener(ON_RV_AD_CLICKED, (placementObj: unknown) =>\n      listener(decode(ironSourceRVPlacementCodec, placementObj))\n    )\n  },\n  removeListener: () => {\n    eventEmitter.removeAllListeners(ON_RV_AD_CLICKED)\n  },\n}\n\n/**\n * Manual Load RV\n * Android: onRewardedVideoAdReady\n *     iOS: rewardedVideoDidLoad\n */\nconst onRewardedVideoAdReady = {\n  setListener: (listener: () => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_READY)\n    eventEmitter.addListener(ON_RV_AD_READY, () => listener())\n  },\n  removeListener: () => {\n    eventEmitter.removeAllListeners(ON_RV_AD_CLICKED)\n  },\n}\n\n/**\n * Manual Load RV\n * Android: onRewardedVideoAdLoadFailed\n *     iOS: rewardedVideoDidFailToLoadWithError\n */\nconst onRewardedVideoAdLoadFailed = {\n  setListener: (listener: (error: IronSourceError) => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_LOAD_FAILED)\n    eventEmitter.addListener(ON_RV_AD_LOAD_FAILED, (errorObj: unknown) =>\n      listener(decode(ironSourceErrorCodec, errorObj))\n    )\n  },\n  removeListener: () => eventEmitter.removeAllListeners(ON_RV_AD_LOAD_FAILED),\n}\n\nconst removeAllListeners = () => {\n  onRewardedVideoAdOpened.removeListener()\n  onRewardedVideoAdClosed.removeListener()\n  onRewardedVideoAvailabilityChanged.removeListener()\n  onRewardedVideoAdStarted.removeListener()\n  onRewardedVideoAdEnded.removeListener()\n  onRewardedVideoAdRewarded.removeListener()\n  onRewardedVideoAdShowFailed.removeListener()\n  onRewardedVideoAdClicked.removeListener()\n  onRewardedVideoAdReady.removeListener()\n  onRewardedVideoAdLoadFailed.removeListener()\n}\n\nexport const RewardedVideoEvents = {\n  onRewardedVideoAdOpened,\n  onRewardedVideoAdClosed,\n  onRewardedVideoAvailabilityChanged,\n  onRewardedVideoAdStarted,\n  onRewardedVideoAdEnded,\n  onRewardedVideoAdRewarded,\n  onRewardedVideoAdShowFailed,\n  onRewardedVideoAdClicked,\n  onRewardedVideoAdReady,\n  onRewardedVideoAdLoadFailed,\n  removeAllListeners,\n}\n"]}