{"version":3,"sources":["RewardedVideoEvents.ts"],"names":["IronSourceMediation","NativeModules","ON_RV_AD_OPENED","ON_RV_AD_CLOSED","ON_RV_AVAILABILITY_CHANGED","ON_RV_AD_REWARDED","ON_RV_AD_SHOW_FAILED","ON_RV_AD_CLICKED","ON_RV_AD_STARTED","ON_RV_AD_ENDED","ON_RV_AD_READY","ON_RV_AD_LOAD_FAILED","getConstants","eventEmitter","NativeEventEmitter","onRewardedVideoAdOpened","setListener","listener","removeAllListeners","addListener","removeListener","onRewardedVideoAdClosed","onRewardedVideoAvailabilityChanged","availabilityObj","isAvailable","availabilityCodec","onRewardedVideoAdStarted","onRewardedVideoAdEnded","onRewardedVideoAdRewarded","placementObj","ironSourceRVPlacementCodec","onRewardedVideoAdShowFailed","errorObj","ironSourceErrorCodec","onRewardedVideoAdClicked","onRewardedVideoAdReady","onRewardedVideoAdLoadFailed","RewardedVideoEvents"],"mappings":"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","sourcesContent":["import { NativeEventEmitter, NativeModules } from 'react-native'\nimport {\n  ironSourceErrorCodec,\n  ironSourceRVPlacementCodec,\n  IronSourceError,\n  IronSourceRVPlacement,\n} from '../models'\nimport { availabilityCodec } from '../models/Availability'\nimport { decode } from '../models/utils'\n\n// The Main Module\nconst { IronSourceMediation } = NativeModules\n// Event Name Constants defined on each platform\nconst {\n  ON_RV_AD_OPENED,\n  ON_RV_AD_CLOSED,\n  ON_RV_AVAILABILITY_CHANGED,\n  ON_RV_AD_REWARDED,\n  ON_RV_AD_SHOW_FAILED,\n  ON_RV_AD_CLICKED,\n  ON_RV_AD_STARTED,\n  ON_RV_AD_ENDED,\n  // Manual Load RV Events\n  ON_RV_AD_READY,\n  ON_RV_AD_LOAD_FAILED,\n} = IronSourceMediation.getConstants()\n\n// Create an EventEmitter to subscribe to RewardedVideoListener callbacks\nconst eventEmitter = new NativeEventEmitter(IronSourceMediation)\n\n/**\n * RV Listener Callback Events Handler APIs\n */\n\n/**\n * Android: onRewardedVideoAdOpened\n *     iOS: rewardedVideoDidOpen\n */\nconst onRewardedVideoAdOpened = {\n  setListener: (listener: () => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_OPENED)\n    eventEmitter.addListener(ON_RV_AD_OPENED, () => listener())\n  },\n  removeListener: () => eventEmitter.removeAllListeners(ON_RV_AD_OPENED),\n}\n\n/**\n * Android: onRewardedVideoAdClosed\n *     iOS: rewardedVideoDidClose\n */\nconst onRewardedVideoAdClosed = {\n  setListener: (listener: () => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_CLOSED)\n    eventEmitter.addListener(ON_RV_AD_CLOSED, () => listener())\n  },\n  removeListener: () => eventEmitter.removeAllListeners(ON_RV_AD_CLOSED),\n}\n\n/**\n * Android: onRewardedVideoAvailabilityChanged\n *     iOS: rewardedVideoHasChangedAvailability\n */\nconst onRewardedVideoAvailabilityChanged = {\n  setListener: (listener: (isAvailable: boolean) => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AVAILABILITY_CHANGED)\n    eventEmitter.addListener(\n      ON_RV_AVAILABILITY_CHANGED,\n      (availabilityObj: unknown) => {\n        const { isAvailable } = decode(availabilityCodec, availabilityObj)\n        listener(isAvailable)\n      }\n    )\n  },\n  removeListener: () =>\n    eventEmitter.removeAllListeners(ON_RV_AVAILABILITY_CHANGED),\n}\n\n/**\n * Android: onRewardedVideoAdStarted\n *     iOS: rewardedVideoDidStart\n */\nconst onRewardedVideoAdStarted = {\n  setListener: (listener: () => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_STARTED)\n    eventEmitter.addListener(ON_RV_AD_STARTED, () => listener())\n  },\n  removeListener: () => eventEmitter.removeAllListeners(ON_RV_AD_STARTED),\n}\n\n/**\n * Android: onRewardedVideoAdEnded\n *     iOS: rewardedVideoDidEnd\n */\nconst onRewardedVideoAdEnded = {\n  setListener: (listener: () => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_ENDED)\n    eventEmitter.addListener(ON_RV_AD_ENDED, () => listener())\n  },\n  removeListener: () => eventEmitter.removeAllListeners(ON_RV_AD_ENDED),\n}\n\n/**\n * Android: onRewardedVideoAdRewarded\n *     iOS: didReceiveRewardForPlacement\n */\nconst onRewardedVideoAdRewarded = {\n  setListener: (listener: (placement: IronSourceRVPlacement) => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_REWARDED)\n    eventEmitter.addListener(ON_RV_AD_REWARDED, (placementObj: unknown) =>\n      listener(decode(ironSourceRVPlacementCodec, placementObj))\n    )\n  },\n  removeListener: () => eventEmitter.removeAllListeners(ON_RV_AD_REWARDED),\n}\n\n/**\n * Android: onRewardedVideoAdShowFailed\n *     iOS: rewardedVideoDidFailToShowWithError\n */\nconst onRewardedVideoAdShowFailed = {\n  setListener: (listener: (error: IronSourceError) => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_SHOW_FAILED)\n    eventEmitter.addListener(ON_RV_AD_SHOW_FAILED, (errorObj: unknown) =>\n      listener(decode(ironSourceErrorCodec, errorObj))\n    )\n  },\n  removeListener: () => eventEmitter.removeAllListeners(ON_RV_AD_SHOW_FAILED),\n}\n\n/**\n * Android: onRewardedVideoAdClicked\n *     iOS: didClickRewardedVideo\n */\nconst onRewardedVideoAdClicked = {\n  setListener: (listener: (placement: IronSourceRVPlacement) => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_CLICKED)\n    eventEmitter.addListener(ON_RV_AD_CLICKED, (placementObj: unknown) =>\n      listener(decode(ironSourceRVPlacementCodec, placementObj))\n    )\n  },\n  removeListener: () => {\n    eventEmitter.removeAllListeners(ON_RV_AD_CLICKED)\n  },\n}\n\n/**\n * Manual Load RV\n * Android: onRewardedVideoAdReady\n *     iOS: rewardedVideoDidLoad\n */\nconst onRewardedVideoAdReady = {\n  setListener: (listener: () => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_READY)\n    eventEmitter.addListener(ON_RV_AD_READY, () => listener())\n  },\n  removeListener: () => {\n    eventEmitter.removeAllListeners(ON_RV_AD_CLICKED)\n  },\n}\n\n/**\n * Manual Load RV\n * Android: onRewardedVideoAdLoadFailed\n *     iOS: rewardedVideoDidFailToLoadWithError\n */\nconst onRewardedVideoAdLoadFailed = {\n  setListener: (listener: (error: IronSourceError) => void) => {\n    eventEmitter.removeAllListeners(ON_RV_AD_LOAD_FAILED)\n    eventEmitter.addListener(ON_RV_AD_LOAD_FAILED, (errorObj: unknown) =>\n      listener(decode(ironSourceErrorCodec, errorObj))\n    )\n  },\n  removeListener: () => eventEmitter.removeAllListeners(ON_RV_AD_LOAD_FAILED),\n}\n\nconst removeAllListeners = () => {\n  onRewardedVideoAdOpened.removeListener()\n  onRewardedVideoAdClosed.removeListener()\n  onRewardedVideoAvailabilityChanged.removeListener()\n  onRewardedVideoAdStarted.removeListener()\n  onRewardedVideoAdEnded.removeListener()\n  onRewardedVideoAdRewarded.removeListener()\n  onRewardedVideoAdShowFailed.removeListener()\n  onRewardedVideoAdClicked.removeListener()\n  onRewardedVideoAdReady.removeListener()\n  onRewardedVideoAdLoadFailed.removeListener()\n}\n\nexport const RewardedVideoEvents = {\n  onRewardedVideoAdOpened,\n  onRewardedVideoAdClosed,\n  onRewardedVideoAvailabilityChanged,\n  onRewardedVideoAdStarted,\n  onRewardedVideoAdEnded,\n  onRewardedVideoAdRewarded,\n  onRewardedVideoAdShowFailed,\n  onRewardedVideoAdClicked,\n  onRewardedVideoAdReady,\n  onRewardedVideoAdLoadFailed,\n  removeAllListeners,\n}\n"]}